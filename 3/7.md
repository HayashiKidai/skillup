---
layout: default
title: STEP3-7.サイトを公開してみる
---
# STEP3-7.サイトを公開してみる

サイトを公開するには様々な方法がありますが、今回はレンタルサーバで公開します。OSのセットアップ、ApacheやMySQLのインストールなどのサーバ設定をしなくても良いことが強みですが、その分使用できる機能は限られています。

## データベースのコピー

サーバレンタルの前にローカルで作成したデータベースをエクスポートしておきます。 [http://localhost/phpmyadmin/](http://localhost/phpmyadmin/)の該当のデータベースのエクスポートタブからデータをエクスポートします。フォーマットはSQLで大丈夫です。

今回、レンタルサーバには[XREA.COM](http://www.xrea.com/signup/)を使用します。サイトに従ってユーザ登録を行います。サーバアカウントが作成できたら送られてくるメールから管理画面へ移動します。「データベース」からMySQLデータベースを作成します。その後、PhpMyAdmin自動インストールからphpMyAdminをインストールしてログインします。ここで該当のデータベースのインポートタブから先ほどエクスポートしたデータをインポートします。これでデータベースのコピーが完了しました。

## ファイルのコピー

ファイルをアップロードする前にMySQLの接続情報を書き換える必要があります。CakePHPであれば/app/Config/database.phpを管理画面のデータベース(mysql)利用情報に従って書き直します。

それではファイルをアップロードします。[ダウンロード - WinSCP](http://sourceforge.jp/projects/winscp/releases/)からWinSCPをダウンロード・インストールします。起動してサーバ情報を入力して接続します。プロトコルはFTPにしてください。するとファイル一覧が表示されます。3つフォルダがありますが、サイトの構成ファイルはpublic_htmlに格納します。ここでpublic_html直下にアップロードしてしまうとphpMyAdminにアクセスできなくなってしまう（実はmod_rewriteなどで回避可能）ので適当にディレクトリを作ってアップロードします。以下のような構成になるはずです。

* log
* Maildir
* public_html
	* log
		* phpmyadmin
	* 適当な名前
		* app
		* lib
		* index.php
		* その他色々

実際にアクセスして確認してみましょう。