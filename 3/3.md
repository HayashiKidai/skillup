---
layout: default
---
# STEP3-3.テストとは

ソフトウェアテストとは、ソフトウェアの動作が正しいかどうかや速度が十分かなどを確認する作業のことです。テストは単体テスト、結合テスト、システムテストの3つの工程に分かれています。

## 単体テスト

単体テストとは、関数やメソッドなどの小さな単位で行うテストです。単体テストはツールを使用して自動化する方法が一般的です。ソースコードを書いてからテストを作成する方法のほかに、テストを作成してからそのテストが成功するようにソースコードを作成するという開発スタイル（テストファースト）もあります。テストケースを作成する方法には以下の2通りが挙げられます。

### ホワイトボックステスト
プログラムコードの命令や分岐などの構造を実際に見て行うテストです。テストが実行された構造の割合を網羅率といいます。網羅基準は3種類あり、例えば以下のようなコードのテストケースは次のようになります。

```php
<?
if($a && $b){
  do1();
}else if($c){
  do2();
}
?>
```
* C0:命令網羅　全ての命令を少なくとも1回実行するようにテストケースを作成する。

```text
[1]$a = true,  $b = true,  $c = true;  //do1()を実行するケース
[2]$a = true,  $b = false, $c = true;  //do2()を実行するケース
```
* C1:分岐網羅　全ての分岐を少なくとも1回実行するようにテストケースを作成する。

```text
[1]$a = true,  $b = true,  $c = true;  //do1()を実行するケース
[2]$a = true,  $b = false, $c = true;  //do2()を実行するケース
[3]$a = true,  $b = false, $c = false; //何も実行しないケース
```
* C2:条件網羅　全ての条件の組み合わせでテストケースを作成する。

```text
[1]$a = true,  $b = true,  $c = true;
[2]$a = true,  $b = true,  $c = false;
[3]$a = true,  $b = false, $c = true;
[4]$a = true,  $b = false, $c = false;
[5]$a = false, $b = true,  $c = true;
[6]$a = false, $b = true,  $c = false;
[7]$a = false, $b = false, $c = true;
[8]$a = false, $b = false, $c = false;
```

理想はC3の網羅率を100%にするテストケースを作成することですが、条件の数が多くなると現実的ではなくなるため、通常はC0の網羅率が100%になるようにテストケースを作成します。

### ブラックボックステスト
プログラムの内部構造を見ずに、仕様通りの入出力が得られるかどうかをチェックするテストです。入力が単一の場合、以下の2種類の入力決定方法があります。

* 同値分割：入力が同じ動作を示す範囲に分け、それぞれの範囲から代表的な値をテストする。
* 境界値分析：入力が同じ動作を示す範囲に分け、それぞれの範囲の境界値をテストする。

## 結合テスト・システムテスト
結合テストとは、単体テストで完成したプログラムを組み合わせて行うテストです。システムテストとはプログラムを実際の環境（サーバ、データベース）に組み込んで行うテストです。Webサイト開発の場合は手動でブラウザからアクセスし、操作することで実施することが多いです。当然ですが最も大切なテストになります。

***

**[課題]テスト仕様書を作ってみよう**  
単体テストの書き方に関しては次回行うので、ここではブラウザから行う結合テスト・システムテストに関する仕様書を作ってみましょう。以下にある[STEP2-7.CakePHPでログイン機能を書いてみる](../2/7.html)で作成したログイン機能のみを持つアプリケーションのテスト仕様書のサンプルを参考にしてみてください。

[テスト仕様書(サンプル)](../docs/test.xls)