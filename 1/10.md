---
layout: default
title: STEP1 最終課題：掲示板を作ろう
---
# STEP1 最終課題：掲示板を作ろう

今までの講座で作成したデータベースを使用して、実際に掲示板を作ってみましょう。プログラムは[6.PHPでGET,POSTを受け取る](6.html)のコードと[9.PHPからデータベースを操作してみる](9.html)のコードを組み合わせればできるはずです。余力のある人は名前・本文以外の情報も表示できるようにしたり、CSSを駆使してデザインを変更したり、独自機能を追加したりしてみましょう。

### 製作環境

* 言語：PHP, HTML, CSS
* データベース：MySQL
* 文字コード：PHP, HTML, CSSはUTF-8、DBはutf8-general-ci
* IE8以上、Firefox、Chrome、Safariのいずれかで動作すること

### 仕様

* 投稿は名前と本文からなる。
* 投稿はPOST送信のみ受け付ける。
* 投稿データはデータベースへ保存する。
* 新しい投稿ほど上に表示される。
* HTMLタグが入力された場合はエスケープする。
* 本文の改行コードは&lt;br /&gt;タグへ変換する。

### 提出方法

基本的に動作はレンタルサーバ上で確認します。そのため動作するURLを提出してください。さらに以下のファイルをzipにまとめて送信してください。

* データベースのエクスポートデータ(後述)
* アップロードした全ファイル
* 機能を追加した場合はその概要を説明したread_me.txtファイル

### [補足]サーバにデータベースをコピーする方法
[http://localhost/phpmyadmin/](http://localhost/phpmyadmin/)にアクセスします。左のメニューから該当のデータベースを選び、エクスポートタブに移動し実行を押すと.sqlファイルでエクスポートされます。

次にサーバの管理画面へ移動します。「データベース」からMySQLデータベースを作成します。その後、PhpMyAdmin自動インストールからphpMyAdminをインストールしてログインします。ここで該当のデータベースのインポートタブから先ほどエクスポートしたデータをインポートします。

これでデータベースのコピーが完了しましたが、接続設定がローカルとは異なるためPHPの修正が必要です。以下のようにしておくと楽かもしれません。

```php
<?php
if($_SERVER['SERVER_NAME'] == "localhost") {
	//ローカルの接続設定
	$mysqli = new mysqli('ホスト名', 'ユーザ名', 'パスワード', 'データベース名');
} else {
	//XREAサーバの接続設定
	$mysqli = new mysqli('ホスト名', 'ユーザ名', 'パスワード', 'データベース名');
}
?>
```

また、ローカルとレンタルサーバではPHPやMySQLのバージョン、もしくは設定が異なるために同じ動作にならない場合があります。こまめに確認しましょう。